<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Spacelamp</title>
    <meta name="description" content="we design things">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="stylesheet" href="https://use.typekit.net/idm8adn.css" type="text/css" />
    <link rel="stylesheet" href="/aesthetic/stylesheets/normalize.css" type="text/css"/>
    <link rel="stylesheet" href="/aesthetic/stylesheets/main.css" type="text/css"/>
    <link>
    <!-- Place favicon.ico in the root directory -->

  </head>
  <body class='hidden'>
    <main>
      <section id="business-card">
        <div class='title'>
          <img src='/aesthetic/assets/spacelamp-logo.png'/>
          <h1>Spacelamp</h1>
          <p class='tagline'>we design things</p>
        </div>
        <form id="contact-form">
          <p class='invitation'>drop us a line</p>
          <input type='text' placeholder="name" id="name" name="name" />
          <label for="name">name</label>
          <input type='text' placeholder="contact" id="contact" name="contact" />
          <label for="contact">contact</label>
          <textarea id="line" name="line" placeholder="line"></textarea>
          <label for="line">line</label>
          <input type="submit" value=drop />
        </form>
      </section>
      <section id="credits">
      </section>
      <template id="credit-template">
        <p class="credit">
          <span class="creator"></span>
          <i class="piece"></i>
        </p>
      </template>
    </main>
    <script>
     document.addEventListener('DOMContentLoaded', () => {
       // bg image, tagline, image credits
       const themes = [
         ["bg1.jpg", "we design things", ["two/fiftyseven"]],
         ["bg2.jpg", "we make places", ["x-frame"]],
         ["bg3.jpg", "we support others",
          ["Chevron Hassett, The Upper Jaw",
           "Tayi Tibble, Hawaiki",
           "Nikau Hindin, Taumatakuku"]],
         ["bg4.jpg", "we bring together", [" Victor Tepaa, Ake! Ake! Ake!"]],
         ["bg5.jpg", "we care deeply", ["designtree x spacelamp, two/fiftyseven desk"]]
       ];

       const colorSets = [
         ["#F4DBDA","#E2F0E0"],
         ["#E2F0E0","#FFFDDE"],
         ["#FFFDDE","#F8D9EA"],
         ["#F8D9EA","#FFFDDE"],
         ["#D9DCEA","#F8D9EA"],
         ["#F8D9EA","#D9DCEA"]
       ];
       newColorSet = colorSets[Math.floor(Math.random() * colorSets.length)];
       newTheme = themes[Math.floor(Math.random() * themes.length)];
       [image,tagline,credits] = newTheme;

       baseStyle = document.documentElement.style;
       baseStyle.setProperty("--bg-img", `url("/aesthetic/assets/${image}")`);
       baseStyle.setProperty("--card-bg", newColorSet[0]);
       baseStyle.setProperty("--form-bg", newColorSet[1]);

       const taglineElem = document.querySelector('.tagline');
       taglineElem.textContent = tagline;

       const creditsElem = document.querySelector('#credits');
       const creditTemplate = document.querySelector('#credit-template');
       credits.forEach(c => {
         [creator,piece] = c.split(',');
         const credit = creditTemplate.content.cloneNode(true);
         let creatorElem = credit.querySelector('.creator');
         let pieceElem = credit.querySelector('.piece');
         creatorElem.textContent = creator;
         pieceElem.textContent = piece;
         creditsElem.appendChild(credit);
       });

       document.querySelector('body').classList.remove('hidden');
     });
    </script>

  </body>
</html>
